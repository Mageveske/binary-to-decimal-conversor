<!DOCTYPE html>
<html lang="pt-br" dir="ltr">
    <head>
        <meta charset='utf-8'>
        <title>Binary to Decimal | Conversor</title>
        <link rel="stylesheet" href="./css/style.css">
    </head>

    <body>
        
        <div class="box" id="atenas">
            <div class="txt-title">
                <h1>Tell to the lamps what is your Binary Number ...</h1>
            </div>

            <div class="img" id="zeus">
                <img alt="imgLampada" id="imgLampada1" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada2" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada3" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada4" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada5" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada6" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada7" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada8" src="./img/lampada-acesa.png" >
            </div>

            <div class="input" id="hercules">
                <input type="text" name="input" placeholder="write here the Binary Number" 
                maxlength="8" id="data" autocomplete="off"/>
            </div>

            <div class="button" id="button">
                <button type="button" id="btn">CALCULATE</button>
            </div>
            
            <div class="output" id="minerva">
                
                <h1>Your Decimal Number is:</h1>
                <input type="text" id="output"/>
                
            </div>

        </div>          

        <script>

            var btn = document.querySelector('body div#atenas div#button button#btn');

            btn.onclick = function () {
                var text = [];

                for (i = 0; i <= 7; i++) {
                    text[i] = document.querySelector('body div#atenas div#hercules input#data').value[i];
                }

                for (i = 0; i <= 7; i++) {
                    if (text[i] == 1) {
                        text[i] = 2 ** (7 - i);
                    } else {
                        text[i] = 0;
                    }
                }
                
                var sum = text.reduce((accumulator, currentValue) => accumulator + currentValue);
                document.querySelector('body div#atenas div#minerva input#output').value = sum;
            }

        </script>        
    </body>
</html>