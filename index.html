<!DOCTYPE html>
<html lang="pt-br" dir="ltr">
    <head>
        <meta charset='utf-8'>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Binary to Decimal | Conversor</title>
        <link rel="stylesheet" href="./css/style.css">
    </head>

    <body>
        
        <div class="box" id="atenas">
            <div class="txt-title">
                <h1>Tell to the lamps what is your Binary Number ...</h1>
            </div>

            <div class="img" id="zeus">
                <img alt="imgLampada" id="imgLampada1" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada2" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada3" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada4" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada5" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada6" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada7" src="./img/lampada-acesa.png" >
                <img alt="imgLampada" id="imgLampada8" src="./img/lampada-acesa.png" >
            </div>

            <div class="input" id="hercules">
                <input type="text" name="input" placeholder="write here" 
                maxlength="8" id="data" autocomplete="off"/>
            </div>

            <div class="button" id="button">
                <button type="button" id="btn">CALCULATE</button>
            </div>
            
            <div class="output" id="minerva">
                
                <h1>Your Decimal Number is:</h1>
                <input type="text" id="output"/>
                
            </div>

        </div>          

        <script>

            var btn = document.querySelector('body div#atenas div#button button#btn');
            var data = document.querySelector('body div#atenas div#hercules input#data');

            data.onkeyup = function () {

                if (data.value[7] !== undefined) {

                    if(data.value[0] == 0) {

                        var rootDark = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-apagada.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada1').src = rootDark;

                    } else if (data.value[0] == 1) {

                        var rootLight = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-acesa.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada1').src = rootLight;

                    } 

                    if(data.value[1] == 0) {

                        var rootDark = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-apagada.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada2').src = rootDark;

                    } else if (data.value[1] == 1) {

                        var rootLight = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-acesa.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada2').src = rootLight;

                    }

                    if(data.value[2] == 0) {

                        var rootDark = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-apagada.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada3').src = rootDark;

                    } else if (data.value[2] == 1) {

                        var rootLight = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-acesa.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada3').src = rootLight;

                    }

                    if(data.value[3] == 0) {

                        var rootDark = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-apagada.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada4').src = rootDark;

                    } else if (data.value[3] == 1) {

                        var rootLight = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-acesa.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada4').src = rootLight;

                    }

                    if(data.value[4] == 0) {

                        var rootDark = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-apagada.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada5').src = rootDark;

                    } else if (data.value[4] == 1) {

                        var rootLight = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-acesa.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada5').src = rootLight;

                    }

                    if(data.value[5] == 0) {

                        var rootDark = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-apagada.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada6').src = rootDark;

                    } else if (data.value[5] == 1) {

                        var rootLight = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-acesa.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada6').src = rootLight;

                    }

                    if(data.value[6] == 0) {

                        var rootDark = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-apagada.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada7').src = rootDark;

                    } else if (data.value[6] == 1) {

                        var rootLight = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-acesa.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada7').src = rootLight;

                    }

                    if(data.value[7] == 0) {

                        var rootDark = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-apagada.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada8').src = rootDark;

                    } else if (data.value[7] == 1) {

                        var rootLight = ('file:///C:/.devMageveske/app-ideas/tier-1-BeginnerProjects/Bin2Dec/img/lampada-acesa.png');
                        document.querySelector('body div#atenas div#zeus img#imgLampada8').src = rootLight;

                    }

                } else {

                    return;

                }
            }

            btn.onclick = function () {
                var text = [];

                for (i = 0; i <= 7; i++) {
                    text[i] = document.querySelector('body div#atenas div#hercules input#data').value[i];
                        
                    if (text[i] == 1) {

                        text[i] = 2 ** (7 - i);

                    } else {

                        text[i] = 0;

                    }
                }
                    
                var sum = text.reduce((accumulator, currentValue) => accumulator + currentValue);
                document.querySelector('body div#atenas div#minerva input#output').value = sum;
            }                   


        </script>        
    </body>
</html>